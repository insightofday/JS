<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <label
      >id:
      <input type="text" id="id" name="name" placeholder="id at lease 10byte"
    /></label>
    <button type="button" id="btn" onclick="confirmInfo()" value="N">
      확인
    </button>
    <br />

    <label>pw</label>
    <input type="password" id="pw" name="pw" />
    <button type="button" id="pwBtn" onclick="pwInfo()" value="N">확인</button>
    <br />

    <label
      >address
      <input type="text" id="addr" name="addr" />
    </label>
    <button type="button" id="btn" onclick="adrsInfo()" value="N">확인</button>
    <div id="app" style="border: 1px solid green"></div>

    <script>
      function pwInfo() {
        let pw = document.getElementById("pw");
        let pwStr = pw.value;
        if (pwStr == "") {
          alert("please enter your password");
          pw.focus();
        } else {
          ///'!'는 사용불가
          if (pwStr.indexOf("!") >= 0) {
            //indexof는 인덱스를 반환함 없으면-1;
            alert("you can not use '!'");
            pw.value = "";
            pw.focus();
          } else {
            alert("you can use this pw");
            event.target.value = "Y";
          }
        }
      }

      function confirmInfo() {
        let id = document.getElementById("id");
        let str = id.value;
        if (str == "") {
          alert("please enter your id");
          id.focus();
        } else {
          if (str.length >= 10) {
            alert("OK");

            document.getElementById("pw").focus();
            id.readOnly = true; //////////////////한번아이디로통과되면못바꿈
            event.target.disabled = true; //!!!!!!!!!!!!!!!!!!!!!!!!!!!!타겟인button이 disabled
          } else {
            alert("deny");
            id.value = ""; //사용못하는 아이디이므로 칸을 비우고
            id.focus(); //커서를 옮기기
            //btn의 value를 n에서 y로 바꾸기
            event.target.value = "Y";
          }
        }
      }

      function adrsInfo() {
        let ad = document.getElementById("addr");
        let str = ad.value;
        if (str == "") {
          alert("please enter your address");
          addr.focus();
        } else if (str.indexOf("대구광역시") == 0) {
          //대구광역시로 시작하는 것이 있으면 그 첫번째 글자의 인덱스를 반환함
          alert("right"); //substring활용해도됨
          event.target.value = "Y";
        } else {
          alert("address should start from 대구광역시");
        }
      }
      ///if(){
      //     return<반환값없이 return:if문탈출
      // }
    </script>
  </body>
</html>
